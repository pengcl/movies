(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[9355],{9355:(n,t,o)=>{"use strict";o.r(t),o.d(t,{MovieItemPageModule:()=>b});var e=o(8583),i=o(665),c=o(2859),a=o(8741),r=o(3524),s=o(3018),g=o(2238),p=o(4765);function l(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"ion-slide",19),s.NdJ("click",function(){const t=s.CHM(n).$implicit;return s.oxw(2).selected("cinema",t)}),s.TgZ(1,"div",20),s.TgZ(2,"div",21),s.TgZ(3,"h2"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&n){const n=t.$implicit,o=s.oxw(2);s.xp6(1),s.ekj("curr",n.code===(null==o.cinema?null:o.cinema.code)),s.xp6(3),s.Oqu(n.name),s.xp6(2),s.AsE("",n.province,",",n.city,"")}}function d(n,t){if(1&n&&(s.TgZ(0,"div",15),s.TgZ(1,"ion-slides",16,17),s.YNc(3,l,7,5,"ion-slide",18),s.qZA(),s.qZA()),2&n){const n=s.oxw();s.xp6(1),s.Q6J("options",n.slideOpts),s.xp6(2),s.Q6J("ngForOf",n.cinemas)}}function u(n,t){1&n&&(s.TgZ(0,"div",32),s._uU(1,"\u5176\u5b83\u5f71\u7247"),s.qZA())}function m(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"li",33),s.NdJ("click",function(){const t=s.CHM(n).$implicit,o=s.oxw().$implicit;return s.oxw().changeDay(o,t)}),s.TgZ(1,"a",34),s._uU(2),s.qZA(),s.qZA()}if(2&n){const n=t.$implicit,o=s.oxw().$implicit;s.ekj("curr",o.current.showDateAlias===n.showDateAlias),s.xp6(2),s.Oqu(n.showDateAlias)}}function _(n,t){if(1&n){const n=s.EpF();s.TgZ(0,"tr",35),s.TgZ(1,"td"),s._uU(2),s._UZ(3,"br"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.qZA(),s.TgZ(9,"td"),s._uU(10),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.qZA(),s.TgZ(13,"td",36),s.TgZ(14,"ion-button",37),s.NdJ("click",function(){const t=s.CHM(n).$implicit;return s.oxw(2).showCode(t.code)}),s._uU(15),s.qZA(),s.qZA(),s.qZA()}if(2&n){const n=t.$implicit,o=s.oxw().$implicit;s.xp6(2),s.Oqu(n.showTimeStart),s.xp6(2),s.Oqu(n.showTimeEnd),s.xp6(2),s.Oqu(n.hallName),s.xp6(2),s.AsE("",n.planMoviePublish,"[",n.posMovieLan,"]"),s.xp6(2),s.Oqu(o.during),s.xp6(2),s.Oqu(n.price),s.xp6(3),s.hij("\u4f59\u7968",n.sellNum,"\u5f20")}}function h(n,t){if(1&n&&(s.ynx(0),s.YNc(1,u,2,0,"div",22),s.TgZ(2,"div",23),s.TgZ(3,"div",24),s._UZ(4,"img",25),s.qZA(),s.TgZ(5,"div",26),s.TgZ(6,"h2"),s._uU(7),s.qZA(),s.TgZ(8,"p"),s.TgZ(9,"strong"),s._uU(10,"\u5bfc\u6f14\uff1a"),s.qZA(),s._uU(11),s.qZA(),s.TgZ(12,"p"),s.TgZ(13,"strong"),s._uU(14,"\u4e3b\u6f14\uff1a"),s.qZA(),s._uU(15),s.qZA(),s.TgZ(16,"p"),s.TgZ(17,"strong"),s._uU(18,"\u7c7b\u578b\uff1a"),s.qZA(),s._uU(19),s.qZA(),s.TgZ(20,"p"),s.TgZ(21,"strong"),s._uU(22,"\u65f6\u957f\uff1a"),s.qZA(),s._uU(23),s.qZA(),s.TgZ(24,"p"),s.TgZ(25,"strong"),s._uU(26,"\u4e0a\u6620\u65f6\u95f4\uff1a"),s.qZA(),s._uU(27),s.qZA(),s.qZA(),s.TgZ(28,"ul",27),s.YNc(29,m,3,3,"li",28),s.qZA(),s.TgZ(30,"div",29),s.TgZ(31,"table",30),s.TgZ(32,"thead"),s.TgZ(33,"tr"),s.TgZ(34,"th"),s._uU(35,"\u653e\u6620\u65f6\u95f4"),s.qZA(),s.TgZ(36,"th"),s._uU(37,"\u5f71\u5385"),s.qZA(),s.TgZ(38,"th"),s._uU(39,"\u7248\u672c"),s.qZA(),s.TgZ(40,"th"),s._uU(41,"\u653e\u6620\u65f6\u957f"),s.qZA(),s.TgZ(42,"th"),s._uU(43,"\u4ef7\u683c"),s.qZA(),s.TgZ(44,"th"),s._uU(45,"\u8d2d\u7968"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(46,"tbody"),s.YNc(47,_,16,8,"tr",31),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.BQk()),2&n){const n=t.$implicit,o=t.index;s.xp6(1),s.Q6J("ngIf",1===o),s.xp6(3),s.s9C("src",n.movieHomeIcon,s.LSH),s.xp6(3),s.Oqu(n.movieName),s.xp6(4),s.Oqu(n.director),s.xp6(4),s.Oqu(n.actor),s.xp6(4),s.Oqu(n.movieVersion),s.xp6(4),s.Oqu(n.during),s.xp6(4),s.Oqu(n.publicDate),s.xp6(2),s.Q6J("ngForOf",n.movieAllPlans),s.xp6(18),s.Q6J("ngForOf",n.plans)}}const x=function(){return["/home"]},O=function(){return["/movie/list"]},C=function(){return["/movie/add"]},M=function(){return["/contact"]},Z=function(){return["/auth/login"]},P=function(){return["/auth/register"]},f=[{path:"",component:(()=>{class n{constructor(n,t,o,e){this.activatedRoute=n,this.dialog=t,this.datePipe=o,this.dataSvc=e,this.scrollTop=0,this.slideOpts={initialSlide:0,slidesPerView:12,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets"},speed:400},this.movies=[],this.day={},this.dataSvc.plans().subscribe(n=>{this.movie=n.data.filter(n=>n.movieCode===this.activatedRoute.snapshot.params.id)[0];const t=[],o=this.getCinemas();this.movie.saleCinemas.forEach(n=>{o[n]&&t.push(o[n])}),this.cinemas=t.sort((n,t)=>t.code-n.code),this.cinema=t[0],this.getData()})}getData(){this.dataSvc.moviePlans({cinemaCode:this.cinema.code}).subscribe(n=>{n.data.movieList.forEach(n=>{n.current=n.movieAllPlans[0]});let t=[n.data.movieList.filter(n=>n.movieCode===this.activatedRoute.snapshot.params.id)[0]];t=t.concat(n.data.movieList.filter(n=>n.movieCode!==this.activatedRoute.snapshot.params.id)),this.getDayPlans(t)})}getDayPlans(n,t){t=t||this.datePipe.transform(new Date,"yyyy-MM-dd"),this.dataSvc.test({cinemaCode:this.cinema.code,day:t}).subscribe(o=>{let e=[];this.day[t]||(this.day[t]=o.data||[]);for(const n in this.day)this.day[n]&&(e=e.concat(this.day[n]));n.forEach(n=>{n.plans=[],e.forEach(t=>{t.movieName===n.movieName&&this.datePipe.transform(t.showTimeStart,"yyyy-MM-dd")===n.current.showDate&&(t.price=(()=>{let n=0;return t.ticketTypePriceDTOList.forEach(t=>{const o=Number(t.minPrice);n?o<n&&(n=o):n=o}),n})(),n.plans.push(t))})})}),this.movies=n}ngOnInit(){}ionScroll(n){this.scrollTop=n.detail.scrollTop}openDialog(n){this.dialog.open(r.Q,{width:"200px",maxWidth:"200px",data:n})}showCode(n){this.openDialog({movieCode:n,cinemaCode:this.cinema.code})}getMovies(){return this.dataSvc.getMovies()}getCinemas(){const n={};return this.dataSvc.getCinemas().forEach(t=>{n[t.code]=t}),n}selected(n,t){this[n]=t,this.getData()}changeDay(n,t){n.current=t,this.getDayPlans(this.movies,t.showDate)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(a.gz),s.Y36(g.uw),s.Y36(e.uU),s.Y36(p.D))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-movie-item"]],features:[s._Bn([e.uU])],decls:38,vars:20,consts:[["slot","start"],["color","primary"],["src","http://pub-template-manage.oss-cn-shenzhen.aliyuncs.com/uploads/order/20211020/19962414fbff2dfd3867ec7c6e1dfece.png",3,"routerLink"],["slot","end"],["color","primary",3,"routerLink"],["shape","round","color","primary",1,"login","auth",3,"routerLink"],["shape","round","color","primary",1,"register","auth",3,"routerLink"],[3,"scrollEvents","fullscreen","ionScroll"],["class","cinemas",4,"ngIf"],[1,"movie-detail"],[4,"ngFor","ngForOf"],[1,"ion-no-padding"],["size","auto"],[1,"footer-text"],["href","http://beian.miit.gov.cn","target","_blank","id","beianhao"],[1,"cinemas"],[3,"options"],["slides",""],["style","width: 100px;",3,"click",4,"ngFor","ngForOf"],[2,"width","100px",3,"click"],[1,"cinema-box"],[1,"img-box"],["class","space",4,"ngIf"],[1,"container"],[1,"poster"],[3,"src"],[1,"detail"],[1,"tabs"],["class","tab",3,"curr","click",4,"ngFor","ngForOf"],[1,"tickets"],[1,"pure-table"],["class","pure-table-odd",4,"ngFor","ngForOf"],[1,"space"],[1,"tab",3,"click"],["href","javascript:;"],[1,"pure-table-odd"],[2,"text-align","right"],["size","small","color","secondary","shape","round",3,"click"]],template:function(n,t){1&n&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s.TgZ(3,"ion-button",1),s._UZ(4,"img",2),s.qZA(),s.qZA(),s.TgZ(5,"ion-buttons",3),s.TgZ(6,"ion-button",4),s._uU(7," \u9996\u9875 "),s.qZA(),s.TgZ(8,"ion-button",4),s._uU(9," \u4e0a\u6620\u7535\u5f71 "),s.qZA(),s.TgZ(10,"ion-button",4),s._uU(11," \u53d1\u5e03\u7535\u5f71 "),s.qZA(),s.TgZ(12,"ion-button",4),s._uU(13," \u8054\u7cfb\u6211\u4eec "),s.qZA(),s.TgZ(14,"ion-button",5),s._uU(15," \u767b\u5f55 "),s.qZA(),s.TgZ(16,"ion-button",6),s._uU(17," \u6ce8\u518c "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"ion-content",7),s.NdJ("ionScroll",function(n){return t.ionScroll(n)}),s.YNc(19,d,4,2,"div",8),s.TgZ(20,"div",9),s.YNc(21,h,48,10,"ng-container",10),s.qZA(),s.TgZ(22,"ion-footer"),s.TgZ(23,"ion-toolbar"),s.TgZ(24,"ion-grid",11),s.TgZ(25,"ion-row"),s._UZ(26,"ion-col"),s.TgZ(27,"ion-col",12),s.TgZ(28,"div",13),s.TgZ(29,"p"),s._uU(30,"\xa9\xa02022\xa0\u5e7f\u5dde\u74a7\u548c\u4fe1\u606f\u79d1\u6280\u6709\u9650\u516c\u53f8\xa0\xa0\u7248\u6743\u6240\u6709\xa0\xa0\xa0"),s.TgZ(31,"a",14),s._uU(32,"\u7ca4ICP\u59072021094871\u53f7-1"),s.qZA(),s.qZA(),s.TgZ(33,"p"),s._uU(34,"\u8054\u7cfb\u7535\u8bdd\uff1a18022387330\xa0\xa0\xa0\u7535\u5b50\u90ae\u7bb1\uff1aweb@genson.cn\uff08\u5468\u4e00\u81f3\u5468\u65e5\uff0c9:00-18:00\uff09"),s.qZA(),s.TgZ(35,"p"),s._uU(36,"\u8054\u7cfb\u5730\u5740\uff1a\u5e7f\u5dde\u5e02\u5929\u6cb3\u533a\u9ec4\u57d4\u5927\u9053\u897f76\u53f72415\u5ba4\uff08\u90e8\u4f4d\uff1aA\uff09\uff08\u4ec5\u9650\u529e\u516c\uff09\xa0\xa0\xa0\u5ba2\u670d\u53ca\u4e3e\u62a5\u7535\u8bdd\uff1a18022387330"),s.qZA(),s.qZA(),s.qZA(),s._UZ(37,"ion-col"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&n&&(s.ekj("scroll",t.scrollTop>0),s.xp6(4),s.Q6J("routerLink",s.DdM(13,x)),s.xp6(2),s.Q6J("routerLink",s.DdM(14,x)),s.xp6(2),s.Q6J("routerLink",s.DdM(15,O)),s.xp6(2),s.Q6J("routerLink",s.DdM(16,C)),s.xp6(2),s.Q6J("routerLink",s.DdM(17,M)),s.xp6(2),s.Q6J("routerLink",s.DdM(18,Z)),s.xp6(2),s.Q6J("routerLink",s.DdM(19,P)),s.xp6(2),s.Q6J("scrollEvents",!0)("fullscreen",!0),s.xp6(1),s.Q6J("ngIf",t.cinemas),s.xp6(2),s.Q6J("ngForOf",t.movies))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.YI,a.rH,c.W2,e.O5,e.sg,c.fr,c.jY,c.Nd,c.wI,c.Hr,c.A$],styles:['ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--min-height:100px;--padding-start:30px;--padding-end:30px;transition:all .3s ease-in-out}ion-header[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{margin:0 10px;font-size:14px}ion-header[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child   [_ngcontent-%COMP%]:before{content:","}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:38px;display:inline-block;margin-top:3px;cursor:pointer}ion-header[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:20px;height:20px}ion-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--ion-color-base:#2d3e50!important;font-size:14px;margin-inline-start:5px;margin-inline-end:5px}ion-header[_ngcontent-%COMP%]   ion-button.auth[_ngcontent-%COMP%]{background:#14b1bb!important;--ion-color-base:#fff!important;border-radius:4px!important;--padding-start:15px;--padding-end:15px;margin-inline-start:5px;margin-inline-end:5px}ion-header.scroll[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--min-height:64px}ion-slides.banner[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{position:relative}ion-slides.banner[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#2d3e5080}ion-slides.banner[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;right:80px;text-align:left}ion-slides.banner[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:50px;margin-bottom:16px;color:#fff}ion-slides.banner[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-left:5px}ion-slides.banner[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;padding:10px 41px;background-color:#14b1bb;color:#fff;text-decoration:none;margin-top:20px;display:inline-block}.cinemas[_ngcontent-%COMP%]{width:100%;background:#ededed;position:relative}.cinemas[_ngcontent-%COMP%]:after{left:0;bottom:0;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:"";transform:rotate(-180deg)}.cinemas[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]{width:1200px;padding:50px 0}.cinemas[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]   .cinema-box[_ngcontent-%COMP%]{display:flex;align-items:center;width:85px;height:128px;overflow:hidden;box-shadow:0 0 10px 0 #0003;border:2px solid #0000;cursor:pointer}.cinemas[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]   .cinema-box.curr[_ngcontent-%COMP%]{background:#fff;color:#3880ff;border:2px solid #3880ff}.cinemas[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]   .cinema-box[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:10px;margin:0 3px}.cinemas[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]   .cinema-box[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:9px;margin:10px 3px 0}.movie-detail[_ngcontent-%COMP%]{margin:30px}.movie-detail[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{width:1200px;margin:100px auto 40px;padding:0 15px 15px;border-bottom:1px solid #ededed;font-size:24px;font-weight:700}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;padding-left:388px}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .poster[_ngcontent-%COMP%]{position:absolute;left:0;top:50px;width:288px;height:400px}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{margin-top:50px}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:30px}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-bottom:1px dotted #999;position:relative;zoom:1;padding:9px 0 9px 95px;height:38px;line-height:1.5em;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{position:absolute;left:0;top:7px;width:95px;font-size:14px;font-weight:700;line-height:1.5em}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{margin:50px 0 10px;border-bottom:1px solid #ededed}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:inline-block;margin-right:15px;font-size:16px;line-height:32px}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.curr[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:red}.movie-detail[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}ion-footer[_ngcontent-%COMP%]{font-size:14px}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:#14b1bb}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]{font-size:12px;line-height:24px;padding:20px 0;color:#fff;text-align:center}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}']}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[a.Bz.forChild(f)],a.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[e.ez,i.u5,c.Pc,A]]}),n})()}}]);